<div ng-show="!currentUser">

<h1>Welcome! <small>Sign in or create account.</small> </h1>
<hr/>

</div>

<div class="row">
  <div class="col-md-{{(!currentUser ? 8 : 12 )}}">

    <h2>Browse categories</h2>

    <hr/>

    <div class="row">
      <div class="col-md-4">
        <div role="form" class="{{(!currentUser ? '' : 'form-inline' )}}">
          <div class="form-group">
            <label for="exampleInputEmail2">Query</label>
            <input type="text" class="form-control" id="exampleInputEmail2" placeholder="Query" ng-model="query">
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div role="form" class="{{(!currentUser ? '' : 'form-inline' )}}">
          <div class="form-group">
          <label for="exampleInputEmail2">Sort</label>
            <select class="form-control" ng-model="orderProp">
              <option value="-id">Newest</option>
              <option value="id">Oldest</option>
              <option value="name">Alphabetical</option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <a class="btn btn-default" href="#/addcategory" ng-show="!!currentUser">Add Cateogry</a>
      </div>
    </div>

    <hr/>

    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Name</th>
          <th>Owner</th>
          <th colspan=3><span ng-show="!!currentUser">Actions</span></th>
        </tr>
      </thead>

      <tr ng-repeat="cat in browseCategories | filter:query | orderBy:orderProp">
        <td>
          <a class="btn btn-link" href="#/user/{{userName(cat.owner)}}/category/{{cat.id}}">{{cat.name}}</a>
        </td>
        <td>
          <a class="btn btn-link" href="#/user/{{userName(cat.owner)}}">{{userName(cat.owner)}}</a>
        </td>
        <td>
          <a class="btn btn-default" href="#/editcategory/{{cat.id}}"
            ng-show="!!currentUser && AuthUser.id === cat.owner">
            <span class="glyphicon glyphicon-pencil"></span>
          </a>
        </td>
        <td>
          <a class="btn btn-default" href="#/rmcategory/{{cat.id}}"
            ng-show="!!currentUser && AuthUser.id === cat.owner">
            <span class="glyphicon glyphicon-trash"></span>
          </a>
        </td>
        <td>
          <a class="btn btn-default" href="#/addbookmark/{{cat.id}}"
            ng-show="!!currentUser && AuthUser.id === cat.owner">
            <span class="glyphicon glyphicon-plus"></span>
          </a>
        </td>
      </tr>
    </table>

  </div>

  <div class="col-md-4" ng-show="!currentUser">

    <div class="alert alert-danger" ng-show="!!signupFailed">
      <strong>Sign up failed.</strong> This login already exists.
    </div>

    <h2>Create account</h2>
    <hr/>

    <form name="signupForm" novalidate ng-submit="signup(account)">
      <div class="form-group {{ ( signupForm.signupLogin.$invalid ? 'has-error' : '' ) }}">
        <label for="exampleInputEmail1">Login</label>
        <input type="text" class="form-control" id="signup-login" name="signupLogin" placeholder="Login"
          ng-model="account.login" ng-minlength="6" ng-pattern="/[\w\d]+/">
      </div>
      <div class="form-group {{ ( signupForm.signupPassowrd.$invalid ? 'has-error' : '' ) }}">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="signup-password" name="signupPassowrd" placeholder="Password"
          ng-model="account.password" ng-minlength="8" ng-pattern="/[\w\d]+/">
      </div>
      <button type="submit" class="btn btn-default"
      ng-disabled="( signupForm.$invalid || (account.login.length === 0) || (account.password.length === 0) )">Sign up</button>
    </form>

  </div>

</div>
